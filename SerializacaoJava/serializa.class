/*
 Crie um exemplo de como funcionam a serialização e a desserialização de um sistema qualquer.
 Utilize as classes, os objetos e métodos padrões da Java e insira um endereço físico fictício.
 ______________________________________________________________________________________________

 Obs: O código abaixo não foi testado nem executado, sua construção foi feita apenas para fins de 
 resolução da atividade

 referencias: 
 https://www.geeksforgeeks.org/java-io-fileinputstream-class-java/?ref=gcse

 https://www.geeksforgeeks.org/fileoutputstream-in-java/

 https://www.devmedia.com.br/introducao-a-serializacao-de-objetos/3050
 */

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;

public class Serializador{
    //método da classe que fará a gravação de um objeto em um arquivo 
    //o método recebe uma lista
    public static void serializar(obj) {
        //utilizando a classe FileOutPutStream para referenciar um arquivo  com o endereço (ficticio)
        FileOutputStream arquivo = new FileOutputStream("../files/arquivo1.txt");
       
        //inicializando um objeto de fluxo, que será responsavel por gravar nosso obj no arquivo
        ObjectOutputStream objDeFluxo = new ObjectOutputStream(arquivo);

        //método que faz a serialização, transferindo nosso obj para o arquivo binário
        objDeFluxo.writeObject(obj);

        //fechando o fluxo de entrada
        objDeFluxo.close();
     
    }

    //recuperando o objeto gravados no arquivo binário "arquivo1"
    public static Object desserialização() {

        //referenciando o arquivo que contem os dados através do endereço
        FileInputStream arquivo = new FileInputStream("../files/arquivo1.txt");

        //instanciando um objeto de leitura associado a uma entrada em bytes
        ObjectInputStream objInput = new ObjectInputStream(arquivo);

        //objeto que será associado na recuperação 
        Object objetoRecuperado = new Object();

        //desserializa e recupera o objeto gravado no arquivo, armazenando no objeto criado acima
        objetoRecuperado = objInput.readObject();

        //fecha o fluxo de entrada
        objInput.close();
          
       
        //retorna o Object recuperado
        return(objetoRecuperado);
      }
}
  